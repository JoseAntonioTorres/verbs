<!doctype html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Historia Interactiva - The Case of the Missing Key</title>
<style>
body { font-family: Georgia, serif; max-width: 780px; margin: 30px auto; line-height: 1.7; color:#222; }
h1 { text-align:center; }
button { padding: 10px 16px; margin: 6px; font-size: 16px; cursor:pointer; border-radius:6px; border: 1px solid #444;}
button:hover { background:#ddd; }
#sceneText { margin: 18px 0; font-size: 20px; }
.choice-container { margin-top:18px; }
.note { font-size:14px; color:#666; margin-top:18px; border-top:1px solid #ccc; padding-top:8px; }
</style>
</head>
<body>

<h1>üîç The Case of the Missing Key</h1>

<p><em>Lee la historia y elige lo que sucede a continuaci√≥n. Tu objetivo es observar y usar <strong>verbos irregulares en pasado</strong>.</em></p>

<div id="sceneText"></div>
<div id="choices" class="choice-container"></div>

<div id="end" style="display:none; margin-top:30px; padding:16px; border-top:2px solid #333;">
  <h2>Ahora es tu turno ‚úçÔ∏è</h2>
  <p>Escribe tu propia versi√≥n del final o crea una historia alternativa (5-8 oraciones) usando <strong>al menos 6 verbos irregulares</strong> en pasado.</p>
  <p>Puedes usar algunos como gu√≠a: <strong>went, saw, found, took, met, told, made, ran, thought, knew, felt, hid, gave</strong>.</p>
  <p>Cuando termines, s√∫belo en la secci√≥n de entrega de la actividad.</p>
</div>

<script>
const scenes = {
 start: {
   text: "Ayer por la noche, caminaste por una calle oscura. De repente, encontraste una llave vieja en el suelo. La levantaste y miraste alrededor. No hab√≠a nadie. ¬øQu√© hiciste despu√©s?",
   choices: [
     { label: "Fui a una casa abandonada que record√©.", goto: "house" },
     { label: "Guard√© la llave y regres√© a casa.", goto: "home" }
   ]
 },

 house: {
   text: "Fuiste a la casa abandonada. La puerta estaba cerrada con un candado antiguo. Probaste la llave... y <strong>encaj√≥</strong>. Cuando abriste la puerta, escuchaste algo moverse adentro.",
   choices: [
     { label: "Entr√© lentamente.", goto: "inside" },
     { label: "Me fui corriendo.", goto: "runaway" }
   ]
 },

 home: {
   text: "Guardaste la llave y regresaste a casa. Pero mientras dorm√≠as, escuchaste un sonido met√°lico. Te levantaste, fuiste a la sala... y viste la misma llave en el suelo otra vez.",
   choices: [
     { label: "La tom√© y llam√© a un amigo.", goto: "friend" },
     { label: "La ignor√© y volv√≠ a dormir.", goto: "end_badvibes" }
   ]
 },

 inside: {
   text: "Entraste lentamente. La casa estaba fr√≠a y silenciosa. En la mesa hab√≠a un libro viejo. Lo abriste y <strong>viste tu nombre escrito adentro</strong>.",
   choices: [
     { label: "Tom√© el libro.", goto: "book" },
     { label: "Lo dej√© y busqu√© otra habitaci√≥n.", goto: "hallway" }
   ]
 },

 runaway: {
   text: "Corriste tan r√°pido como pudiste. Pero mientras corr√≠as, escuchaste pasos sigui√©ndote...",
   choices: [
     { label: "Me escond√≠ detr√°s de un auto.", goto: "hide" },
     { label: "Grit√© pidiendo ayuda.", goto: "shout" }
   ]
 },

 friend: {
   text: "Llamaste a tu amigo. √âl vino, mir√≥ la llave y dijo: ‚ÄúLa he visto antes... perteneci√≥ a alguien que desapareci√≥ hace a√±os‚Äù.",
   choices: [
     { label: "Fui con √©l a investigar.", goto: "house" },
     { label: "Decid√≠ no continuar.", goto: "end_safe" }
   ]
 },

 end_badvibes: {
   text: "Ignoraste la llave. Pero cuando despertaste, estaba en tu mano. Nunca descubriste su origen.",
   choices: [],
   end: true
 },

 book: {
   text: "Tomaste el libro. Al hacerlo, la casa comenz√≥ a llenarse de ruido. Sentiste que la llave brillaba en tu bolsillo.",
   choices: [
     { label: "Sal√≠ de la casa inmediatamente.", goto: "end_run" },
     { label: "Me qued√© para investigar.", goto: "end_courage" }
   ]
 },

 hallway: {
   text: "Caminaste por el pasillo. Una sombra cruz√≥ frente a ti. Te observ√≥... y desapareci√≥.",
   choices: [
     { label: "La segu√≠.", goto: "end_courage" },
     { label: "Sal√≠ corriendo.", goto: "end_run" }
   ]
 },

 hide: {
   text: "Te escondiste. Contuviste la respiraci√≥n. Los pasos se detuvieron justo detr√°s de ti... y luego se alejaron.",
   choices: [
     { label: "Regres√© a la casa para investigar.", goto: "house" },
     { label: "Corr√≠ a casa.", goto: "home" }
   ]
 },

 shout: {
   text: "Gritaste. Pero nadie respondi√≥. El silencio volvi√≥.",
   choices: [
     { label: "Regres√© a la casa.", goto: "house" },
     { label: "Volv√≠ a casa.", goto: "home" }
   ]
 },

 end_run: {
   text: "Corriste hacia afuera. La llave dej√≥ de brillar. Nunca supiste qu√© hab√≠a dentro de la casa.",
   choices: [],
   end: true
 },

 end_courage: {
   text: "Te quedaste. La sombra regres√≥. Te mir√≥. No sentiste miedo. En ese momento <strong>entendiste</strong> que la llave no era el principio... sino una invitaci√≥n.",
   choices: [],
   end: true
 },

 end_safe: {
   text: "Decidiste no continuar. A veces, la mejor historia es la que elegimos no abrir.",
   choices: [],
   end: true
 }
};

let current = "start";
function render(){
  let s = scenes[current];
  document.getElementById("sceneText").innerHTML = s.text;
  if (s.end) {
    document.getElementById("choices").innerHTML = "";
    document.getElementById("end").style.display = "block";
  } else {
    document.getElementById("choices").innerHTML = s.choices.map(c =>
      `<button onclick="go('${c.goto}')">${c.label}</button>`
    ).join("");
  }
}
function go(next){ current = next; render(); }
render();
</script>

</body>
</html>
